مشروع إدارة الموارد البشرية (HRM) 🚀
هذا المشروع هو نظام لإدارة الموارد البشرية (HRM) مُطور باستخدام Django للواجهة الخلفية (Backend) و React للواجهة الأمامية (Frontend).

📋 المتطلبات
تأكد من تثبيت المتطلبات التالية على جهازك قبل البدء:

Python 3.12+

Node.js 18+

Docker (اختياري، لكن يُنصح به لتبسيط بيئة التطوير)

🛠️ دليل التشغيل
1. الواجهة الخلفية (Backend)
اتبع هذه الخطوات لتشغيل الواجهة الخلفية:

انتقل إلى مجلد الواجهة الخلفية:

cd backend

قم بإنشاء وتفعيل بيئة افتراضية:

python -m venv .venv
source .venv/bin/activate

ثبّت المكتبات المطلوبة:

pip install -r requirements.txt

قم بإنشاء ملف .env وانسخ محتويات .env.example إليه. عدّل المفاتيح حسب حاجتك.

cp .env.example .env

طبّق الترحيلات (Migrations) على قاعدة البيانات:

python manage.py migrate

شغّل الخادم المحلي:

python manage.py runserver

سيعمل الخادم على العنوان http://localhost:8000.

2. الواجهة الأمامية (Frontend)
لتشغيل الواجهة الأمامية، اتبع الخطوات التالية:

افتح طرفية جديدة وانتقل إلى مجلد الواجهة الأمامية:

cd frontend

ثبّت الحزم المطلوبة:

npm install

قم بإنشاء ملف .env وانسخ محتويات .env.example إليه. عدّل VITE_API_URL إذا كان خادم الواجهة الخلفية يعمل على منفذ مختلف عن 8000.

cp .env.example .env

شغّل خادم التطوير:

npm run dev

سيكون التطبيق متاحًا في متصفحك على http://localhost:5173.

🐳 استخدام Docker (اختياري)
لتجربة تشغيل المشروع بأكمله بسهولة أكبر، يمكنك استخدام Docker Compose. هذا سيبني ويشغل كلاً من الواجهة الخلفية والأمامية في حاويات منفصلة.

تأكد أنك في المجلد الرئيسي للمشروع (حيث يوجد ملف docker-compose.yml).

قم ببناء وتشغيل الحاويات:

docker compose up --build

إذا أردت تشغيلها في الخلفية:

docker compose up --build -d

بعد التشغيل، ستكون الواجهة الخلفية متاحة على http://localhost:8000، والواجهة الأمامية على http://localhost:5173.

🌐 ملاحظات حول CORS (Cross-Origin Resource Sharing)
عند تشغيل الواجهة الخلفية والأمامية على منافذ مختلفة (وهو الوضع الافتراضي للتطوير)، قد تواجه مشكلة CORS. هذه المشكلة تتعلق بقيود الأمان في المتصفح التي تمنع طلبات HTTP بين نطاقات مختلفة.

لمعالجة هذه المشكلة في Django، تأكد من إضافة عنوان URL الخاص بالواجهة الأمامية إلى قائمة CORS_ALLOWED_ORIGINS في ملف settings.py الخاص بالواجهة الخلفية.

مثال في backend/settings.py:

# settings.py
CORS_ALLOWED_ORIGINS = [
    "http://localhost:5173", # عنوان الواجهة الأمامية
    # أضف أي عناوين أخرى تحتاجها هنا
]

ملاحظة هامة: هذا الإعداد مناسب فقط لبيئة التطوير. في بيئة الإنتاج، يجب أن تكون هذه الإعدادات أكثر دقة وتقييدًا لضمان الأمان.

🚦 متى يتم فصل المستودعات (Repositories)؟
فصل الواجهة الأمامية والواجهة الخلفية إلى مستودعين منفصلين هو قرار استراتيجي يعتمد على عدة عوامل تتعلق بحجم المشروع، الفريق، وعملية النشر. إليك بعض السيناريوهات التي قد تجعل الفصل خيارًا أفضل:

النشر المستقل: إذا كنت تخطط لنشر الواجهة الأمامية على منصة مثل Vercel أو Netlify (التي تركز على الواجهات الأمامية الثابتة)، بينما يتم نشر الواجهة الخلفية على خادم مختلف (مثل خادم خاص أو خدمة سحابية مثل AWS EC2 أو Google Cloud Run). هذا يسمح لكل جزء بأن يكون له مسار نشر خاص به.

فرق العمل المنفصلة: إذا كان لديك فرق تطوير منفصلة تمامًا، أحدهما مسؤول عن تطوير الواجهة الأمامية والآخر عن الواجهة الخلفية. هذا يتيح لكل فريق العمل بشكل مستقل، مع دورات إصدار وتصاريح وصول مختلفة.

حجم المشروع وتعقيده: عندما ينمو المشروع ويصبح كبيرًا ومعقدًا، قد يصبح المستودع الواحد (monorepo) ثقيلاً وصعب الإدارة. الفصل يمكن أن يُحسن من أداء أدوات Git ويسهل عملية البناء والنشر.

📂 إن قررت الفصل لاحقًا
إذا قررت فصل المستودعات في مرحلة لاحقة من المشروع، إليك كيفية القيام بذلك بشكل فعال:

إنشاء مستودعين جديدين: قم بإنشاء مستودعين جديدين على منصة Git (مثل GitHub أو GitLab)، على سبيل المثال: hrm-backend و hrm-frontend.

إدارة مستقلة لكل مستودع: سيكون لكل مستودع ملف README.md خاص به، وإعدادات CI/CD (التكامل والنشر المستمر) منفصلة، وتتبع إصدارات خاص به.

تزامن الإصدارات: لضمان التوافق بين الواجهتين، يمكنك استخدام:

Git submodules: إذا كنت بحاجة إلى تضمين مشروع داخل مشروع آخر.

Release tags: لتحديد الإصدارات المتوافقة بين الواجهة الأمامية والخلفية، مما يسهل على الفرق معرفة أي إصدار من الواجهة الخلفية يتوافق مع إصدار معين من الواجهة الأمامية.
